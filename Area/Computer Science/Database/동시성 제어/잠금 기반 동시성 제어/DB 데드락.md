# [[데드락]]이란?
- 두 개 이상의 트랜잭션이 서로가 보유한 락을 기다리며 영원히 진행하지 못하는 상황
- 예시:
	- T1이 A의 lock을 가지고 B의 lock을 기다림
	- T2가 B의 lock을 가지고 A의 lock을 기다림

# 데드락의 대처
### Prevention (예방)
- Timeout-Based: 일정 시간 대기 후 롤백 - 가장 많이 사용됨
- [[Wait-Die]]: 오래된 트랜잭션이 대기, 새 트랜잭션이 롤백
- [[Wound-Wait]]: 오래된 트랜잭션이 선점, 새 트랜잭션이 대기
- 은행원 알고리즘
### Detection & Recovery (감지 및 복구)
- [[Wait-for 그래프]]로 순환 의존관계 탐지
- 발견시 [[Victim 선정]]하여 롤백


# 실무에서 주의할 점
1) Lock Timeout 설정
   - 너무 짧으면: 불필요한 롤백 발생
   - 너무 길면: 시스템 자원 낭비

2) 트랜잭션 설계
   - 최소한의 시간 동안만 락 유지
   - 가능한 작은 단위의 트랜잭션 사용
   - 일관된 순서로 락 획득

3) 모니터링
   - Deadlock 발생 빈도 추적
   - Lock 경합 상황 모니터링
   - 문제 있는 트랜잭션 패턴 식별