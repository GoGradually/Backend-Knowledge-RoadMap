# 컴포지트 패턴

- 객체를 손쉽게 **트리구조로 구성할 수 있게 만든다.**
    
    - **트리구조의 구성**
    - **트리의 노드들을 분류하고 싶을 때!**
- **재귀적인 구조**를 사용한다.
    ![[Pasted image 20241212212323.png]]
    - 이로써 클라이언트는 개별 객체와 복합(composite) 개체를 동일하게 다룰 수 있다. → **투명성**
    - 리프의 경우에도 “자식이 없는 복합 노드” 로 보면 좀 더 완벽한 투명성을 확보할 수 있다.

### 컴포지트 패턴의 장점 → 투명성!!!

- 클라이언트 코드 단순화: 클라이언트는 Leaf와 Composite를 구분하지 않고 동일한 인터페이스로 다룰 수 있어 코드가 간결해집니다.
- 새로운 컴포넌트 추가 용이: Leaf나 Composite 객체를 추가할 때 클라이언트 코드를 수정할 필요가 없습니다.
- 컴포넌트 계층 구조 변경의 유연성: 트리 구조를 동적으로 변경하더라도 클라이언트에 영향을 주지 않습니다.
- 이러면 구현만 되어있고 아무 기능도 하지 않는 메소드들이 생길수도 있다.
    - 이는 감수한다.

### 단순 구성을 사용해서 트리구조를 만들 때와의 차이점
- 단순 구성
    - 트리구조 생성 시, 리프 컴포넌트와 복합 컴포넌트를 구분해서 다뤄야 한다.
- 컴포지트 패턴
    - 트리구조 생성 시, 리프 컴포넌트와 복합 컴포넌트를 동일한 컴포넌트로 보고 사용하게 할 수 있다.

### 사이드 이펙트
- 투명성을 추가하게 되면, 다음과 같이 두가지 책임을 지게 된다. (SRP의 위반)
    - 계층 구조를 관리하는 일과,
    - 해당 노드가 처리해야 하는 일
- **“상황에 따라 원칙을 적절하게 사용해야 함을 보여주는 대표 사례”**